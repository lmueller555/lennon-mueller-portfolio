<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lennon Mueller Portfolio - AI/ML</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('Mueller Logo.png') no-repeat center center;
            background-size: cover;
            opacity: 0.5;
            z-index: -1;
        }
        h1.title {
            color: white;
            text-align: center;
            text-decoration: underline;
            font-size: 48px;
        }
        nav {
            text-align: center;
            margin-top: 10px;
            background: rgba(0,0,0,0.6);
            padding: 10px 0;
        }
        nav a {
            margin: 0 15px;
            color: white;
            text-decoration: none;
            border: 1px solid white;
            padding: 8px 15px;
            border-radius: 4px;
            background: rgba(0,0,0,0.6);
        }
        #mlContainer {
            background: rgba(0,0,0,0.6);
            color: white;
            padding: 20px;
            margin: 20px auto;
            width: 90%;
            max-width: 1000px;
            border-radius: 8px;
            position: relative;
            z-index: 1;
        }
        label { display:block; margin:5px 0; }
        input, select { width:200px; }
        #result { margin-top:20px; }
        canvas {
            width: 100%;
            max-width: 800px;
            margin: 70px auto;
            display: block;
        }
        h2 {
            text-align: center;
            color: white;
        }
        #explanation {
            margin: 10px 0;
        }
        #summary, #highestRule {
            margin: 10px 0;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1 class="title">Lennon Mueller</h1>
    <nav>
        <a href="index.html">Home</a>
        <a href="https://project-m-2025-llsunxvugbbasdznxvsecg.streamlit.app/">App Development</a>
        <a href="ai-ml.html">AI/ML</a>
    </nav>
    <div id="mlContainer">
        <h2>Customer Churn Dashboard</h2>
        <p id="explanation">
            This dashboard analyzes the <em>Telco Customer Churn</em> dataset using a
            neural network model. It highlights feature combinations that are most
            and least associated with customer churn based on training results.
        </p>
        <p id="summary"></p>
        <p id="highestRule"></p>
        <canvas id="topCombosChart"></canvas>
        <canvas id="lowCombosChart"></canvas>
    </div>
<script>
async function loadDashboard(){
    const res = await fetch('combos.json');
    const data = await res.json();
    document.getElementById('summary').innerText =
        `Dataset: ${data.total_customers} customers, Churn Rate: ${(data.churn_rate*100).toFixed(1)}%`;
    document.getElementById('highestRule').innerText = data.highest_rule;

    const topCtx = document.getElementById('topCombosChart').getContext('2d');
    const topLabels = data.top_combos.map(c=>`${c.features[0]}=${c.values[0]}\n${c.features[1]}=${c.values[1]}`);
    const topRates = data.top_combos.map(c=>c.rate*100);
    new Chart(topCtx,{
        type:'bar',
        data:{
            labels:topLabels,
            datasets:[{label:'Churn %',data:topRates,backgroundColor:'red'}]
        },
        options:{
            scales:{
                y:{
                    beginAtZero:true,
                    max:100,
                    ticks:{color:'white'},
                    title:{display:true,text:'Churn %',color:'white'}
                },
                x:{
                    ticks:{maxRotation:45,minRotation:45,autoSkip:false,color:'white'},
                    title:{display:true,text:'Feature Combination',color:'white'}
                }
            },
            plugins:{
                legend:{labels:{color:'white'}}
            }
        }
    });

    const lowCtx = document.getElementById('lowCombosChart').getContext('2d');
    const lowLabels = data.bottom_combos.map(c=>`${c.features[0]}=${c.values[0]}\n${c.features[1]}=${c.values[1]}`);
    const lowRates = data.bottom_combos.map(c=>c.rate*100);
    new Chart(lowCtx,{
        type:'bar',
        data:{
            labels:lowLabels,
            datasets:[{label:'Churn %',data:lowRates,backgroundColor:'green'}]
        },
        options:{
            scales:{
                y:{
                    beginAtZero:true,
                    max:100,
                    ticks:{color:'white'},
                    title:{display:true,text:'Churn %',color:'white'}
                },
                x:{
                    ticks:{maxRotation:45,minRotation:45,autoSkip:false,color:'white'},
                    title:{display:true,text:'Feature Combination',color:'white'}
                }
            },
            plugins:{
                legend:{labels:{color:'white'}}
            }
        }
    });
}
loadDashboard();
</script>
</body>
</html>
